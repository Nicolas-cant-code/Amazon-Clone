{"ast":null,"code":"import{useReducer}from\"react\";import ShoppingContext from\"./ShoppingContext\";import{shoppingReducer}from\"./ShoppingReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ShoppingState=props=>{const initialState={basket:[],user:null};const[state,dispatch]=useReducer(shoppingReducer,initialState);//Selectors\nconst getBasketTotal=basket=>basket===null||basket===void 0?void 0:basket.reduce((amount,item)=>item.price+amount,0);const addToBasket=async item=>{dispatch({type:\"ADD_TO_BASKET\",payload:item});};const emptyBasket=()=>{dispatch({type:\"EMPTY_BASKET\"});};const removeFromBasket=item=>{dispatch({type:\"REMOVE_FROM_BASKET\",payload:item});};const setUser=user=>{dispatch({type:\"SET_USER\",payload:user});};return/*#__PURE__*/_jsx(ShoppingContext.Provider,{value:{basket:state.basket,user:state.user,getBasketTotal,addToBasket,setUser,removeFromBasket,emptyBasket},children:props.children});};","map":{"version":3,"names":["useReducer","ShoppingContext","shoppingReducer","jsx","_jsx","ShoppingState","props","initialState","basket","user","state","dispatch","getBasketTotal","reduce","amount","item","price","addToBasket","type","payload","emptyBasket","removeFromBasket","setUser","Provider","value","children"],"sources":["C:/Zaio work/amazone-clone/amazone-clone/src/component/shopping/ShoppingState.js"],"sourcesContent":["import { useReducer } from \"react\";\r\nimport ShoppingContext from \"./ShoppingContext\";\r\nimport { shoppingReducer } from \"./ShoppingReducer\";\r\n\r\nexport const ShoppingState = (props) => {\r\n  const initialState = { basket: [], user: null };\r\n  const [state, dispatch] = useReducer(shoppingReducer, initialState);\r\n\r\n  //Selectors\r\n  const getBasketTotal = (basket) =>\r\n    basket?.reduce((amount, item) => item.price + amount, 0);\r\n  const addToBasket = async (item) => {\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      payload: item,\r\n    });\r\n  };\r\n\r\n  const emptyBasket = () => {\r\n    dispatch({ type: \"EMPTY_BASKET\" });\r\n  };\r\n\r\n  const removeFromBasket = (item) => {\r\n    dispatch({ type: \"REMOVE_FROM_BASKET\", payload: item });\r\n  };\r\n\r\n  const setUser = (user) => {\r\n    dispatch({\r\n      type: \"SET_USER\",\r\n      payload: user,\r\n    });\r\n  };\r\n  return (\r\n    <ShoppingContext.Provider\r\n      value={{\r\n        basket: state.basket,\r\n        user: state.user,\r\n        getBasketTotal,\r\n        addToBasket,\r\n        setUser,\r\n        removeFromBasket,\r\n        emptyBasket,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </ShoppingContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,OAASC,eAAe,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpD,MAAO,MAAM,CAAAC,aAAa,CAAIC,KAAK,EAAK,CACtC,KAAM,CAAAC,YAAY,CAAG,CAAEC,MAAM,CAAE,EAAE,CAAEC,IAAI,CAAE,IAAK,CAAC,CAC/C,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,UAAU,CAACE,eAAe,CAAEK,YAAY,CAAC,CAEnE;AACA,KAAM,CAAAK,cAAc,CAAIJ,MAAM,EAC5BA,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEK,MAAM,CAAC,CAACC,MAAM,CAAEC,IAAI,GAAKA,IAAI,CAACC,KAAK,CAAGF,MAAM,CAAE,CAAC,CAAC,CAC1D,KAAM,CAAAG,WAAW,CAAG,KAAO,CAAAF,IAAI,EAAK,CAClCJ,QAAQ,CAAC,CACPO,IAAI,CAAE,eAAe,CACrBC,OAAO,CAAEJ,IACX,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAK,WAAW,CAAGA,CAAA,GAAM,CACxBT,QAAQ,CAAC,CAAEO,IAAI,CAAE,cAAe,CAAC,CAAC,CACpC,CAAC,CAED,KAAM,CAAAG,gBAAgB,CAAIN,IAAI,EAAK,CACjCJ,QAAQ,CAAC,CAAEO,IAAI,CAAE,oBAAoB,CAAEC,OAAO,CAAEJ,IAAK,CAAC,CAAC,CACzD,CAAC,CAED,KAAM,CAAAO,OAAO,CAAIb,IAAI,EAAK,CACxBE,QAAQ,CAAC,CACPO,IAAI,CAAE,UAAU,CAChBC,OAAO,CAAEV,IACX,CAAC,CAAC,CACJ,CAAC,CACD,mBACEL,IAAA,CAACH,eAAe,CAACsB,QAAQ,EACvBC,KAAK,CAAE,CACLhB,MAAM,CAAEE,KAAK,CAACF,MAAM,CACpBC,IAAI,CAAEC,KAAK,CAACD,IAAI,CAChBG,cAAc,CACdK,WAAW,CACXK,OAAO,CACPD,gBAAgB,CAChBD,WACF,CAAE,CAAAK,QAAA,CAEDnB,KAAK,CAACmB,QAAQ,CACS,CAAC,CAE/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}